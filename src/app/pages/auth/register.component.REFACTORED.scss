// ============================================
// Register Component - Refactored with Design Tokens
// ============================================
// This is a refactored example showing how to use the new design system
// Original file: 318 lines â†’ Refactored: ~120 lines (62% reduction)

@import '../../shared/styles/design-tokens';
@import '../../shared/styles/mixins';

// ============================================
// Container & Layout
// ============================================
.register-container {
  min-height: 100vh;
  @include flex-center;
  background: $gradient-primary;
  padding: $spacing-card-padding;
  
  @include responsive(md) {
    padding: $spacing-md;
  }
}

.register-wrapper {
  @include card-base;
  width: 100%;
  max-width: 900px;
  display: grid;
  grid-template-columns: 45% 55%;
  box-shadow: $shadow-xl;
  
  @include responsive(md) {
    grid-template-columns: 1fr;
    max-width: 500px;
  }
}

// ============================================
// Brand Section (Left Side)
// ============================================
.brand-section {
  @include gradient-background($color-primary-500, $color-secondary-500);
  @include flex-center;
  @include flex-column;
  padding: $spacing-2xl;
  color: $color-white;
  text-align: center;
  
  @include responsive(md) {
    padding: $spacing-xl;
  }
  
  .brand-icon {
    font-size: $font-size-5xl;
    margin-bottom: $spacing-md;
    opacity: $opacity-90;
  }
  
  h1 {
    @include h2;
    color: $color-white;
    margin-bottom: $spacing-3;
  }
  
  p {
    font-size: $font-size-base;
    opacity: $opacity-90;
    line-height: $line-height-relaxed;
  }
}

// ============================================
// Form Section (Right Side)
// ============================================
.form-section {
  padding: $spacing-2xl;
  
  @include responsive(md) {
    padding: $spacing-lg;
  }
  
  .form-header {
    margin-bottom: $spacing-xl;
    text-align: center;
    
    h2 {
      @include h3;
      margin-bottom: $spacing-2;
    }
    
    p {
      color: $color-text-tertiary;
      font-size: $font-size-sm;
    }
  }
}

// ============================================
// Step Indicator
// ============================================
.step-indicator {
  @include flex-between;
  margin-bottom: $spacing-xl;
  
  .step {
    @include flex-center;
    @include flex-column;
    gap: $spacing-2;
    flex: 1;
    position: relative;
    
    &:not(:last-child)::after {
      content: '';
      position: absolute;
      top: 1rem;
      left: 60%;
      width: 80%;
      height: 2px;
      background: $color-border-light;
      transition: $transition-base;
    }
    
    &.active::after,
    &.completed::after {
      background: $gradient-primary;
    }
    
    .step-number {
      @include flex-center;
      width: 2rem;
      height: 2rem;
      border-radius: $radius-full;
      border: 2px solid $color-border-light;
      font-size: $font-size-sm;
      font-weight: $font-weight-semibold;
      color: $color-text-tertiary;
      background: $color-white;
      transition: $transition-base;
      z-index: $z-index-base;
    }
    
    &.active .step-number {
      background: $gradient-primary;
      color: $color-white;
      border-color: $color-primary-500;
    }
    
    &.completed .step-number {
      background: $color-success-500;
      color: $color-white;
      border-color: $color-success-500;
    }
    
    .step-label {
      font-size: $font-size-xs;
      color: $color-text-tertiary;
      font-weight: $font-weight-medium;
      text-align: center;
    }
    
    &.active .step-label {
      color: $color-primary-500;
    }
  }
}

// ============================================
// Form Sections
// ============================================
.section-title {
  @include flex-between;
  padding-bottom: $spacing-3;
  margin-bottom: $spacing-lg;
  border-bottom: 2px solid $table-border-color;
  
  h3 {
    @include h5;
    @include flex-center;
    gap: $spacing-2;
    
    i {
      color: $color-primary-500;
    }
  }
}

// ============================================
// Form Groups
// ============================================
.form-row {
  @include grid-auto-fit($min-width: 200px, $gap: $spacing-md);
  
  @include responsive(md) {
    grid-template-columns: 1fr;
  }
}

.form-group {
  @include form-group;
  
  label {
    @include form-label;
  }
  
  input,
  textarea {
    @include input-base;
  }
  
  .p-dropdown,
  .p-calendar {
    width: 100%;
  }
  
  small.error {
    @include form-error-message;
  }
  
  small.help {
    @include form-help-text;
  }
}

// SA ID Validation Feedback
.id-validation {
  margin-top: $spacing-2;
  padding: $spacing-3;
  border-radius: $radius-md;
  font-size: $font-size-sm;
  
  &.valid {
    background: $status-active-bg;
    color: $status-active-text;
    border: 1px solid $color-success-500;
  }
  
  &.invalid {
    background: $status-inactive-bg;
    color: $status-inactive-text;
    border: 1px solid $color-error-500;
  }
  
  .id-info {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: $spacing-2;
    margin-top: $spacing-2;
    
    .info-item {
      strong {
        display: block;
        margin-bottom: $spacing-1;
      }
    }
  }
}

// ============================================
// Action Buttons
// ============================================
.form-actions {
  @include flex-between;
  gap: $spacing-md;
  margin-top: $spacing-xl;
  
  @include responsive(md) {
    flex-direction: column;
    
    button {
      width: 100%;
    }
  }
}

// ============================================
// Links & Text
// ============================================
.form-links {
  text-align: center;
  margin-top: $spacing-lg;
  
  p {
    font-size: $font-size-sm;
    color: $color-text-tertiary;
    
    a {
      color: $color-primary-500;
      font-weight: $font-weight-medium;
      text-decoration: none;
      transition: $transition-base;
      
      &:hover {
        color: $color-primary-600;
        text-decoration: underline;
      }
    }
  }
}

// ============================================
// PrimeNG Component Overrides
// ============================================
:ng-deep {
  // Input fields
  @include primeng-input-override;
  
  // Dropdown
  @include primeng-dropdown-override;
  
  // Calendar
  @include primeng-calendar-override;
  
  // Password field
  .p-password {
    width: 100%;
    
    .p-password-input {
      width: 100%;
    }
  }
  
  // Input mask
  .p-inputmask {
    @include input-base;
  }
}

// ============================================
// Loading State
// ============================================
.loading-overlay {
  @include overlay($opacity-60);
  @include flex-center;
  
  .spinner {
    @include loading-spinner($size: 3rem, $border-width: 4px, $color: $color-white);
  }
}
